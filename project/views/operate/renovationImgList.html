<!DOCTYPE html>
<html lang="en">

<head>
    <title>好云商-后台管理</title>
    @@include("shared/global-meta.html")
    <!-- 引入全局样式 -->
    <!-- 全局样式 -->
    @@include("shared/global-import-css.html")
    <!-- 引入全局插件样式 -->
    <!-- 全局插件样式 -->
    @@include("shared/global-import-plugins-css.html")
    <!-- 全局主题样式 -->
    <link rel="stylesheet" href="../../plugin/pager/css/pager.css">
    <link rel="stylesheet" href="../../css/renovationImg/renovationImgList.css">
</head>

<body class="page-header-fixed page-sidebar-closed-hide-logo page-content-white">
    <div class="page-wrapper">
        <!-- 顶部Bar开始 -->
        @@include("shared/header.html",{ "username":"NickName" })
        <!-- 顶部Bar结束 -->
        <div class="clearfix"></div>
        <!-- 页面中间部分内容开始 -->
        <div class="page-container">
            <!-- 侧边栏开始 -->
            @@include("shared/operatesliderbar.html")
            <!-- 侧边栏结束 -->
            <!-- 页面主内容开始 -->
            <div class="page-content-wrapper">
                <div class="page-content">
                    <div class="page-bar no-border">
                        <h1 class="page-title bold">装修美图-图片列表</h1>
                    </div>
                    <div class="row m-heading-1 border-default m-bordered">
                        <form id="queryImgListForm" class="col-sm-12">
                            <div class="col-sm-3">
                                <input id="text" class="form-control input-sm" name="remark" placeholder="请输入备注">
                            </div>
                            <div class="col-sm-2">
                                <select id="tagsSelect0" class="form-control input-sm" tabindex="-1" aria-hidden="true" name="space">
                                </select>
                            </div>
                            <div class="col-sm-2">
                                <select id="tagsSelect1" class="form-control input-sm" tabindex="-1" aria-hidden="true" name="style">
                                </select>
                            </div>
                            <div class="col-sm-2">
                                <select id="tagsSelect2" class="form-control input-sm" tabindex="-1" aria-hidden="true" name="part">
                                </select>
                            </div>
                            <div class="btn-group btn-group-devided col-sm-1" data-toggle="buttons">
                                <button type="button" class="btn dark btn-outline pull-right" id="queryImgListBtn"><i class="fa fa-search"></i>&nbsp;查询</button>
                            </div>
                        </form>
                    </div>
                    <!-- 活动查询框结束 -->
                    <div class="row">
                        <div class="col-md-12">
                            <!-- 表格开始-->
                            <div class="portlet light bordered">
                                <div class="portlet-title">
                                    <button class="btn green btn-outline" id="checkAllItems">全选</button>
                                    <button class="btn green btn-outline" id="cancelCheckAllItems">取消选择</button>
                                    <button class="btn dark btn-outline toggle-disab" id="deleteImgItems" disabled data-toggle="modal" href="#confirmModal">删除</button>
                                    <button class="btn dark btn-outline toggle-disab" data-toggle="modal" disabled id="linkSpace" href="#linksToSpace">关联空间</button>
                                    <button class="btn dark btn-outline toggle-disab" data-toggle="modal" disabled id="linkStyle" href="#linksToStyle">关联风格</button>
                                    <button class="btn dark btn-outline toggle-disab" data-toggle="modal" disabled id="linkPart" href="#linksToPart">关联局部</button>
                                </div>
                                <div class="portlet-body">
                                    <table id="imgListTable" class="table table-striped table-bordered table-hover table-layout table-header-fixed">
                                        <thead>
                                            <tr class="table-header">
                                                <th width="4%">#</th>
                                                <th width="10%">图片</th>
                                                <th width="10%">空间</th>
                                                <th width="10%">风格</th>
                                                <th width="10%">局部</th>
                                                <th width="10%">更新时间</th>
                                                <th width="10%">备注</th>
                                                <th width="10%">操作</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                    <div class="row">
                                        <span id="imgListPager" class="pager pull-right">
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <!-- 表格结束 -->
                        </div>
                    </div>
                </div>
            </div>
            <!-- 页面主内容结束 -->
        </div>
        <!-- 页面中间内容部分结束 -->
        <!-- 页脚开始 -->
        @@include("shared/footer.html")
        <!-- 页脚结束 -->
    </div>
<div class="modal fade bs-modal-sm" id="linksToSpace" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                    <h4 class="modal-title bold">关联空间</h4>
                </div>
                <div class="modal-body">
                    <div>
                        <label class="mt-checkbox mt-checkbox-outline all-select">
                            <input type="checkbox" value="1" data-func="checkedAllTags">
                            <span></span>全选
                        </label>
                        <button type="button" class="btn dark pull-right" data-func="saveRelation" data-for="#spaceTags" data-type="0">保存关联</button>
                    </div>
                </div>
                <div class="modal-footer" id="spaceTags">
                    <p class="font-grey-salsa">请勾选下列选项，可多选~</p>
                    <div class="custom-select">
                        <ul id="tagsWrapper0"></ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade bs-modal-sm" id="linksToStyle" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                    <h4 class="modal-title bold">关联风格</h4>
                </div>
                <div class="modal-body">
                    <div>
                        <label class="mt-checkbox mt-checkbox-outline all-select">
                            <input type="checkbox" value="2" data-func="checkedAllTags">
                            <span></span>全选
                        </label>
                        <button type="button" class="btn dark pull-right" data-func="saveRelation" data-for="#styleTags" data-type="1">保存关联</button>
                    </div>
                </div>
                <div class="modal-footer" id="styleTags">
                    <p class="font-grey-salsa">请勾选下列选项，可多选~</p>
                    <div class="custom-select">
                        <ul id="tagsWrapper1"></ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade bs-modal-sm" id="linksToPart" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                    <h4 class="modal-title bold">关联局部</h4>
                </div>
                <div class="modal-body">
                    <div>
                        <label class="mt-checkbox mt-checkbox-outline all-select">
                            <input type="checkbox" value="3" data-func="checkedAllTags">
                            <span></span>全选
                        </label>
                        <button type="button" class="btn dark pull-right" data-func="saveRelation" data-for="#partTags" data-type="2">保存关联</button>
                    </div>
                </div>
                <div class="modal-footer" id="partTags">
                    <p class="font-grey-salsa">请勾选下列选项，可多选~</p>
                    <div class="custom-select">
                        <ul id="tagsWrapper2"></ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade bs-modal-sm" id="confirmModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-body"> 确定删除吗？ </div>
                <div class="modal-footer no-border">
                    <button type="button" class="btn dark" data-func="confirmDelete">确定</button>
                    <button type="button" class="btn dark btn-outline" data-dismiss="modal">取消</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 列表模板 -->
    <script id="renovationImgTemp" type="text/html">
        {{each data as value i}}
        <tr data-img-item-id="{{value.id}}" data-top="{{value.top}}">
            <td>
                <label class="mt-checkbox mt-checkbox-outline">
                    <input type="checkbox" value="{{value.id}}">
                    <span></span>
                </label>
            </td>
            <td class="table-td-img">
                <img src="{{value.imgSrc}}" alt="">
            </td>
            <td class="text-overflow" title="{{value.space}}">{{value.space}}</td>
            <td class="text-overflow" title="{{value.style}}">{{value.style}}</td>
            <td class="text-overflow" title="{{value.part}}">{{value.part}}</td>
            <td class="text-overflow" title="{{value.updateTime}}">{{value.updateTime}}</td>
            <td class="text-overflow" title="{{value.remark}}">{{value.remark}}</td>
            <td>
                <a data-func="toTop" href="javascript:;">
                    {{if value.top == '0'}}
                        置顶
                    {{/if}}
                    {{if value.top == '1'}}
                        取消置顶
                    {{/if}}
                </a>&nbsp;&nbsp;&nbsp;
                <a data-func="delete" data-toggle="modal" href="#confirmModal">删除</a>
            </td>
        </tr>
        {{/each}}
    </script>
    <!-- 分类tags模板 -->
    <script id="classifyTagTemp" type="text/html">
        {{each data as value i}}
        <li>
            <label class="mt-checkbox mt-checkbox-outline">
                <input type="checkbox" value="{{value.id}}" data-name="{{value.name}}" class="tag-checkbox">
                <span></span>{{value.name}}
            </label>
        </li>
        {{/each}}
    </script>
    <!-- 下拉框选项模板 -->
    <script id="optionTemp" type="text/html">
        {{each data as value i}}
        <option value="{{value.value}}">{{value.name}}</option>
        {{/each}}
    </script>
    <!-- 页面内容结束 -->
    <!-- 载入全局依赖js -->
    @@include("shared/global-import-js.html")
    <!-- 本页面依赖组件初始化 -->
    <script src="../../plugin/pager/jquery-pager.js"></script>
    <script src="../../js/renovationImg/renovationImgList.js"></script>
    <script>
        var renovationImgList = new RenovationImgList();
        renovationImgList.create();
    </script>
</body>

</html>
